{
  "name": "rnnt_fastconformer_vietnamese",
  "description": "RNN-T based ASR with FastConformer encoder for Vietnamese streaming inference",
  "version": "1.0",
  "audio": {
    "sample_rate": 16000,
    "n_fft": 400,
    "hop_length": 160,
    "n_mels": 80
  },
  "model": {
    "n_state": 256,
    "n_head": 4,
    "n_layer": 16,
    "attention_context_size": [40, 2],
    "vocab_size": 1024,
    "tokenizer_model_path": "./weights/tokenizer_spe_bpe_v1024_pad/tokenizer.model",
    "rnnt_blank": 1024,
    "pad": 1,
    "dropout": 0.1,
    "use_layer_norm": true,
    "encoder_type": "fast",
    "left_ctx": 160,
    "right_ctx": 40,
    "ffn_expansion": 4
  },
  "training": {
    "batch_size": 64,
    "num_workers": 8,
    "max_epochs": 100,
    "learning_rate": 1e-4,
    "min_learning_rate": 5e-6,
    "warmup_steps": 3000,
    "total_steps": 5000000,
    "weight_decay": 1e-6,
    "gradient_clip_val": 1.0,
    "accumulate_grad_batches": 1,
    "val_check_interval": 3000,
    "checkpoint_every_n_steps": 3000,
    "save_epoch_checkpoint": false,
    "early_stopping_patience": 10,
    "val_predict_samples": 5,
    "val_predict_dir": "./test_audio",
    "check_val_every_n_epoch": 1,
    "log_every_n_steps": 50,
    "num_sanity_val_steps": 0,
    "precision": "16-mixed",
    "enable_progress_bar": true
  },
  "data": {
    "metadata_file": "metadata.csv",
    "train_val_split": 0.995,
    "bg_noise_path": ["./datatest/noise/fsdnoisy18k"],
    "min_text_len": 1,
    "max_text_len": 60,
    "enable_augmentation": true,
    "augmentation_prob": 0.5,
    "noise_snr_range": [0.5, 4.0],
    "gain_range": [-30.0, 15.0],
    "pitch_shift_range": [-6, 6],
    "time_stretch_range": [0.85, 1.15],
    "shuffle_before_split": true,
    "random_seed": 42
  },
  "inference": {
    "use_streaming": true,
    "chunk_size_ms": 640,
    "overlap_ms": 160
  },
  "paths": {
    "pretrained_encoder_weight": "./weights/phowhisper_small_encoder.pt",
    "tokenizer_model_path": "./weights/bartpho_syllable/tokenizer.model",
    "log_dir": "./checkpoints",
    "checkpoint_dir": "./checkpoints",
    "tensorboard_dir": "./logs/tensorboard",
    "wandb_project": null,
    "dataset_dir": "./dataset",
    "weights_dir": "./weights"
  },
  "device": "auto",
  "mixed_precision": true,
  "seed": 42,
  "deterministic": false
} 